import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";const o={name:"DynamicTitle",data(){return{originTitle:"",recoverTimeout:null,config:{showIcon:"/favicon.ico",showText:"ヾ(≧▽≦*)o欢迎回来！",hideIcon:"/favicon.ico",hideText:"ಥ_ಥ不要走呀！",recoverTime:2e3}}},mounted(){this.originTitle=document.title,this.config.showIcon!==""&&this.getIconElm().setAttribute("href",this.config.showIcon),document.addEventListener("visibilitychange",()=>{document.hidden?this.hidden():this.visible()})},methods:{hidden(){this.config.hideIcon!==""&&this.getIconElm().setAttribute("href",this.config.hideIcon),document.title=this.config.hideText,clearTimeout(this.recoverTimeout)},visible(){this.config.showIcon!==""&&this.getIconElm().setAttribute("href",this.config.showIcon),document.title=this.config.showText+this.originTitle,this.recoverTimeout=setTimeout(()=>{document.title=this.originTitle},this.config.recoverTime)},getIconElm(){let e=document.querySelector("link[rel=icon]");return e===null&&(e=document.createElement("link"),e.setAttribute("rel","icon"),document.head.appendChild(e)),e}},watch:{$route(e,t){e.path!==t.path&&(this.originTitle=document.title,clearTimeout(this.recoverTimeout))}}};function n(e,t,c,s,r,h){return null}const m=i(o,[["render",n],["__file","DynamicTitle.vue"]]);export{m as default};

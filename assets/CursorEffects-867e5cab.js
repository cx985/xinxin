import{_ as a}from"./plugin-vue_export-helper-c27b6911.js";import{o as c,c as d}from"./app-57970fd2.js";class r{constructor({origin:t,size:e,speed:s,color:n,angle:h,context:o}){this.origin=t,this.position={...this.origin},this.size=e,this.color=n,this.speed=s,this.angle=h,this.context=o,this.renderCount=0}draw(){}move(){this.position.x=Math.sin(this.angle)*this.speed+this.position.x,this.position.y=Math.cos(this.angle)*this.speed+this.position.y+this.renderCount*.3,this.renderCount++}}class l extends r{draw(){this.context.fillStyle=this.color,this.context.beginPath(),this.context.arc(this.position.x,this.position.y,this.size,0,Math.PI*2),this.context.fill()}}class p extends r{constructor({origin:t,size:e,speed:s,color:n,angle:h,context:o}){super({origin:t,size:e,speed:s,color:n,angle:h,context:o}),this.rotate=0}draw(){this.context.fillStyle=this.color,this.context.beginPath();const t=this.size*2,e=this.size;for(let s=0;s<5;s++)this.context.lineTo(Math.cos((18+72*s-this.rotate)/180*Math.PI)*t+this.position.x,-Math.sin((18+72*s-this.rotate)/180*Math.PI)*t+this.position.y),this.context.lineTo(Math.cos((54+72*s-this.rotate)/180*Math.PI)*e+this.position.x,-Math.sin((54+72*s-this.rotate)/180*Math.PI)*e+this.position.y);this.context.fill(),this.rotate+=5}}class u{constructor({origin:t,context:e,shape:s="star",size:n=2,particleCount:h=10,clientSize:o}){this.origin=t,this.context=e,this.shape=s,this.size=n,this.particleCount=h,this.clientSize=o,this.stop=!1,this.particles=[]}randomArray(t){const e=t.length,s=Math.floor(e*Math.random());return t[s]}randomColor(){const t=["8","9","A","B","C","D","E","F"];return"#"+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)+this.randomArray(t)}randomRange(t,e){return(e-t)*Math.random()+t}getShape(t){return{star:p,circle:l}[t]}init(){for(let t=0;t<this.particleCount;t++){const e=this.getShape(this.shape),s=new e({context:this.context,origin:this.origin,size:this.size,color:this.randomColor(),angle:this.randomRange(Math.PI-1,Math.PI+1),speed:this.randomRange(1,6)});this.particles.push(s)}}move(){this.particles.forEach((t,e)=>{if(t.position.x<0||t.position.x>this.clientSize.width||t.position.y>this.clientSize.height){this.particles.splice(e,1);return}t.move()}),this.particles.length==0&&(this.stop=!0)}draw(){this.particles.forEach(t=>t.draw())}}const m={name:"CursorEffects",data(){return{shape:"star",size:3,zIndex:9999,computerCanvas:null,renderCanvas:null,computerContext:null,renderContext:null,clientSize:{width:0,height:0},resizeTimeout:null}},mounted(){this.computerCanvas=document.createElement("canvas"),this.renderCanvas=document.getElementById("vuepress-canvas-cursor"),this.computerContext=this.computerCanvas.getContext("2d"),this.renderContext=this.renderCanvas.getContext("2d"),this.clientSize.width=window.innerWidth,this.clientSize.height=window.innerHeight,this.booms=[],this.running=!1,this.init()},methods:{init(){this.setStyle(this.renderCanvas.style),this.renderCanvas.width=this.computerCanvas.width=this.clientSize.width,this.renderCanvas.height=this.computerCanvas.height=this.clientSize.height,this.makeHighRes(this.renderCanvas,this.renderContext),this.makeHighRes(this.computerCanvas,this.computerContext),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("pagehide",this.handlePageHide),window.addEventListener("resize",this.handleResize)},setStyle(i){i.position="fixed",i.top=0,i.left=0,i.zIndex=this.zIndex,i.pointerEvents="none",i.width=this.clientSize.width,i.height=this.clientSize.height},makeHighRes(i,t){const e=window.devicePixelRatio||1,s=i.width,n=i.height;i.width=Math.round(s*e),i.height=Math.round(n*e),i.style.width=s+"px",i.style.height=n+"px",t.scale(e,e)},handleMouseDown(i){const t=new u({origin:{x:i.clientX,y:i.clientY},context:this.computerContext,size:this.size,shape:this.shape,clientSize:this.clientSize});t.init(),this.booms.push(t),this.running||this.run()},handlePageHide(){this.booms=[],this.running=!1},handleResize(){this.resizeTimeout!=null&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.clientSize.width=window.innerWidth,this.clientSize.height=window.innerHeight,this.renderCanvas.width=this.computerCanvas.width=this.clientSize.width,this.renderCanvas.height=this.computerCanvas.height=this.clientSize.height,this.makeHighRes(this.renderCanvas,this.renderContext),this.makeHighRes(this.computerCanvas,this.computerContext)},500)},run(){if(this.running=!0,this.booms.length==0)return this.running=!1;requestAnimationFrame(this.run),this.computerContext.clearRect(0,0,this.clientSize.width,this.clientSize.height),this.renderContext.clearRect(0,0,this.clientSize.width,this.clientSize.height),this.booms.forEach((i,t)=>{if(i.stop){this.booms.splice(t,1);return}i.move(),i.draw()}),this.renderContext.drawImage(this.computerCanvas,0,0,this.clientSize.width,this.clientSize.height)}}},g={id:"vuepress-canvas-cursor"};function x(i,t,e,s,n,h){return c(),d("canvas",g)}const z=a(m,[["render",x],["__file","CursorEffects.vue"]]);export{z as default};

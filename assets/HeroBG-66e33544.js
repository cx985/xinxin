import{a as I}from"./axios-82afda87.js";import{m as i,L as f}from"./tools-cdd47e6d.js";import{f as p,j as _,L as u,l as v,r as h,o as y,M as x,w as L,a as E}from"./app-57970fd2.js";import{_ as b}from"./plugin-vue_export-helper-c27b6911.js";import"./commonjsHelpers-de833af9.js";const k=E("div",{class:"none"},"Bing壁纸",-1),N=p({__name:"HeroBG",setup(w){const r=()=>{var n,l,c,d;let e=i.get("BingImgIndex");const t=i.get("BingImgList");(!e||e<0)&&(e=0),e>t.length-1&&(e=t.length-1),i.set("BingImgIndex",e);const o=document.querySelector(".vp-blog-mask");e==0&&((n=document.getElementById("leftNav"))==null||n.classList.add("disabled")),e==t.length-1&&((l=document.getElementById("rightNav"))==null||l.classList.add("disabled")),e>0&&e<t.length-1&&((c=document.getElementById("leftNav"))==null||c.classList.remove("disabled"),(d=document.getElementById("rightNav"))==null||d.classList.remove("disabled"));const s=t[e].Path;o.style.background="",o.style.backgroundImage=`url(${s})`;const a=document.querySelector(".vp-footer-wrapper");a.style.backgroundImage=`url(${s})`},g=e=>{var a;const t=document.querySelector(".vp-blog-mask");if(!t)return;const o=i.get("BingImgList");if(o&&o.length<1)return;if(!document.getElementById("BingSwitchWrapper")){const n=document.createElement("div");n.id="BingSwitchWrapper",n.innerHTML=`
<div id="leftNav"></div>
<div id="rightNav"></div>`,(a=t.parentElement)==null||a.insertBefore(n,t)}const m=document.getElementById("leftNav"),s=document.getElementById("rightNav");m&&s&&(r(),m.onclick=()=>{let n=i.get("BingImgIndex");n--,i.set("BingImgIndex",n),r()},s.onclick=()=>{let n=i.get("BingImgIndex");n++,i.set("BingImgIndex",n),r()})},B=()=>{I({method:"get",url:"//file.mo7.cc/api/public/url",params:{}}).then(e=>{const t=e.data.Data;if(!(t&&t.length<1)){for(const o of t)f(o.Path);i.set("BingImgList",t),g()}})};return _(()=>{u(()=>{B()}),v().beforeEach(t=>{u(()=>{setTimeout(()=>{g()},50)})})}),(e,t)=>{const o=h("ClientOnly");return y(),x(o,null,{default:L(()=>[k]),_:1})}}});const D=b(N,[["__file","HeroBG.vue"]]);export{D as default};
